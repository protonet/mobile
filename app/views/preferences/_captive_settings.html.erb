<%= raw Redcarpet.new(SystemPreferences.captive_portal_greeting).to_html %>

<%= form_tag(system_preferences_update_path) do %>
  <%= hidden_field_tag(:anchor, 'captive_settings') %>
  <%= text_area_tag 'preferences[captive_portal_greeting]', SystemPreferences.captive_portal_greeting, :rows => 10, :cols => 45 %>
  <%= button('Save') %>
<% end %>
<br />
<% captive_interfaces = SystemBackend.get_interfaces.collect {|i| i.name} %>
<%= form_tag system_preferences_update_path do -%>
  <%= hidden_field_tag(:anchor, 'captive_settings') %>
  in
  <%= select_tag :in, options_for_select(captive_interfaces), :disabled => SystemCaptivePortal.captive_status %>
  out
  <%= select_tag :out, options_for_select(captive_interfaces), :disabled => SystemCaptivePortal.captive_status %>
  start captive stuff
  <%= label_tag 'preferences[captive_portal]', 'OFF' %>
  <%= radio_button_tag 'preferences[captive_portal]', false, !SystemCaptivePortal.captive_status %>
  <%= label_tag 'preferences[captive_portal]', 'ON' %>
  <%= radio_button_tag 'preferences[captive_portal]', true, SystemCaptivePortal.captive_status %>
<%- end -%>
